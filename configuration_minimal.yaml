# Configuration Home Assistant Fonctionnelle - IMO Ismart Modbus
# Version 1.0.2 - Avec adresses de lecture séparées

homeassistant:
  name: Maison IMO
  latitude: 48.8566
  longitude: 2.3522
  elevation: 0
  unit_system: metric
  time_zone: Europe/Paris

# ==================== INSTANCE 1: AUTOMATE 1 - ÉTAGE ====================
imo_relay:
  port: "/dev/ttyUSB0"
  baudrate: 38400
  bytesize: 8
  slave_id: 1
  name: "Automate 1 - Étage"
  
  relays:
    # Chambre Parents - Q1 (index 0)
    - name: "Chambre Parents"
      address: 0x2C00       # Écriture
      read_address: 0x0000  # Lecture Q1
      icon: mdi:lightbulb
      device_class: switch
    
    # Dressing - Q2 (index 1)
    - name: "Dressing"
      address: 0x2C01
      read_address: 0x0001  # Lecture Q2
      icon: mdi:hanger
      device_class: switch
    
    # Chambre Gabriel - Q3 (index 2)
    - name: "Chambre Gabriel"
      address: 0x2C02
      read_address: 0x0002  # Lecture Q3
      icon: mdi:lightbulb
      device_class: switch
    
    # Chambre Paul - Q4 (index 3)
    - name: "Chambre Paul"
      address: 0x2C03
      read_address: 0x0003  # Lecture Q4
      icon: mdi:lightbulb
      device_class: switch
    
    # Chambre Sophie - Q5 (index 4)
    - name: "Chambre Sophie"
      address: 0x2C04
      read_address: 0x0004  # Lecture Q5
      icon: mdi:lightbulb
      device_class: switch
    
    # SDB Éclairage - Q6 (index 5)
    - name: "SDB Éclairage"
      address: 0x2C05
      read_address: 0x0005  # Lecture Q6
      icon: mdi:shower
      device_class: switch
    
    # Miroir SDB - Q7 (index 6)
    - name: "Miroir SDB"
      address: 0x2C06
      read_address: 0x0006  # Lecture Q7
      icon: mdi:mirror
      device_class: switch
    
    # Douche Éclairage - Q8 (index 7)
    - name: "Douche Éclairage"
      address: 0x2C07
      read_address: 0x0007  # Lecture Q8
      icon: mdi:shower
      device_class: switch
    
    # Grenier - Y1 (index 8)
    - name: "Grenier"
      address: 0x2C10
      read_address: 0x0010  # Lecture Y1
      icon: mdi:lightbulb
      device_class: switch
    
    # Couloir Étage - Y2 (index 9)
    - name: "Couloir Étage"
      address: 0x2C11
      read_address: 0x0011  # Lecture Y2
      icon: mdi:lightbulb
      device_class: switch
    
    # Mezzanine - Y3 (index 10)
    - name: "Mezzanine"
      address: 0x2C12
      read_address: 0x0012  # Lecture Y3
      icon: mdi:lightbulb
      device_class: switch
    
    # Séjour Étage - Y4 (index 11)
    - name: "Séjour Étage"
      address: 0x2C13
      read_address: 0x0013  # Lecture Y4
      icon: mdi:lightbulb
      device_class: switch
    
    # Passerelle - Y5 (index 12)
    - name: "Passerelle"
      address: 0x2C14
      read_address: 0x0014  # Lecture Y5
      icon: mdi:lightbulb
      device_class: switch
    
    # Cabanon - Y6 (index 13)
    - name: "Cabanon"
      address: 0x2C15
      read_address: 0x0015  # Lecture Y6
      icon: mdi:lightbulb
      device_class: switch
    
    # SDJ - Y7 (index 14)
    - name: "SDJ"
      address: 0x2C16
      read_address: 0x0016  # Lecture Y7
      icon: mdi:lightbulb
      device_class: switch
    
    # WC Étage - Y8 (index 15)
    - name: "WC Étage"
      address: 0x2C17
      read_address: 0x0017  # Lecture Y8
      icon: mdi:toilet
      device_class: switch

# ==================== AJOUTER 2ÈME INSTANCE (OPTIONNEL) ====================
# Décommente et adapte pour ajouter Automate 2 (RDC):
# imo_relay_rdc:
#   port: "/dev/ttyUSB0"
#   baudrate: 38400
#   bytesize: 8
#   slave_id: 2
#   name: "Automate 2 - RDC"
#   relays:
#     - name: "Salon 1"
#       address: 0x2C00
#     # ... etc

# ==================== LOGGER ====================
logger:
  default: warning
  logs:
    custom_components.imo_relay: debug

# ==================== AUTOMATIONS ====================
automation: !include automations.yaml

# ==================== SCRIPTS ====================
script: !include scripts.yaml

# ==================== GROUPS ====================
group: !include groups.yaml
